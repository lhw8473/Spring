<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="com.spring.mvc.board.repository.IBoardMapper">

	<!-- DB와 VO객체 간의 변수명이 다를 수 있으므로 해당 변수명 맞춰주는 작업 
		 property는 VO 객체의 변수명 column은 DB 변수명  -->
	<resultMap type="com.spring.mvc.board.model.BoardVO" id="BoardMap">
		<id property="boardNo" column="board_no" />
		<!-- pk라서 id 태그로 작성 -->
		
		<result property="regDate" column="reg_date"/>
		<result property="viewCnt" column="view_cnt"/>
		<!-- pk가 아닌 데이터는 result 태그로 진행 -->
		
	</resultMap>
	
	<insert id="insert">
		<!-- IBoardMapper와 연동하여 DB접근하여 DML 수행   -->
		INSERT INTO mvc_board 
		(board_no, title, content, writer)
		VALUES(board_seq.NEXTVAL, #{title}, #{content}, #{writer})		
	</insert>
	
	<select id="getArticleList" resultMap="BoardMap">
		SELECT * FROM mvc_board ORDER BY board_no ASC
	</select>
	
	<select id="getArticle" resultMap="BoardMap">
		SELECT * FROM mvc_board WHERE board_no = #{num}
	</select>
	
	<update id="updateArticle">
		UPDATE mvc_board SET title = #{title}, content = #{content} WHERE board_no = #{boardNo}
	</update>
	
	<delete id="deleteArticle">
		DELETE FROM mvc_board WHERE board_no = #{boardNo}
	</delete>

</mapper>

